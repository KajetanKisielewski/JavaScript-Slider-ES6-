(()=>{"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s){e(this,"run",(()=>{this.imagesList=document.querySelectorAll(this.imagesSelector),this.sliderRootElement=document.querySelector(this.sliderRootSelector),this.initEvents(),this.initCustomEvents(),this.interval})),e(this,"initEvents",(()=>{this.imageEvent(),this.navNextEvents(),this.navPrevEvents(),this.zoomEvents()})),e(this,"imageEvent",(()=>{this.imagesList.forEach((e=>{e.addEventListener("click",(e=>{this.fireCustomEvent(e.currentTarget,"js-slider-img-click"),this.fireCustomEvent(this.sliderRootElement,"js-slider-start")}))}))})),e(this,"navNextEvents",(()=>{var e=this.sliderRootElement.querySelector(".js-slider__nav--next");e&&(e.addEventListener("click",(()=>{this.fireCustomEvent(this.sliderRootElement,"js-slider-img-next")})),e.addEventListener("mouseleave",(()=>{this.fireCustomEvent(this.sliderRootElement,"js-slider-start")})),e.addEventListener("mouseenter",(()=>{this.fireCustomEvent(this.sliderRootElement,"js-slider-stop")})))})),e(this,"navPrevEvents",(()=>{var e=this.sliderRootElement.querySelector(".js-slider__nav--prev");e&&(e.addEventListener("click",(()=>{this.fireCustomEvent(this.sliderRootElement,"js-slider-img-prev")})),e.addEventListener("mouseleave",(()=>{this.fireCustomEvent(this.sliderRootElement,"js-slider-start")})),e.addEventListener("mouseenter",(()=>{this.fireCustomEvent(this.sliderRootElement,"js-slider-stop")})))})),e(this,"zoomEvents",(()=>{var e=this.sliderRootElement.querySelector(".js-slider__zoom");e&&e.addEventListener("click",(e=>{e.target===e.currentTarget&&(this.fireCustomEvent(this.sliderRootElement,"js-slider-close"),this.fireCustomEvent(this.sliderRootElement,"js-slider-stop"))}))})),e(this,"fireCustomEvent",((e,t)=>{console.log(e.className,"=>",t);var s=new CustomEvent(t,{bubbles:!0});e.dispatchEvent(s)})),e(this,"initCustomEvents",(()=>{this.imagesList.forEach((e=>{e.addEventListener("js-slider-img-click",(e=>{this.onImageClick(e)}))})),this.sliderRootElement.addEventListener("js-slider-img-next",this.onImageNext),this.sliderRootElement.addEventListener("js-slider-img-prev",this.onImagePrev),this.sliderRootElement.addEventListener("js-slider-close",this.onClose),this.sliderRootElement.addEventListener("js-slider-start",this.startSlideShow),this.sliderRootElement.addEventListener("js-slider-stop",this.stopSlideShow)})),e(this,"onImageClick",(e=>{this.showSlider(),this.setSliderImg(e.currentTarget),this.setSliderThumb(e)})),e(this,"onImageNext",(e=>{var t=this.getCurrentImg(),s=this.getNextElement(t);null===s?this.setFirstImgSrc():this.setNextImgSrc(s),this.toggleCurrentClass()})),e(this,"onImagePrev",(e=>{var t=this.getCurrentImg(),s=this.getPrevElement(t);s.classList.contains("js-slider__thumbs-item--prototype")?this.setLastImgSrc():this.setPrevImgSrc(s),this.toggleCurrentClass()})),e(this,"onClose",(e=>{this.closeSlider(),this.clearSliderThumb()})),e(this,"showSlider",(()=>{this.sliderRootElement.classList.add("js-slider--active")})),e(this,"closeSlider",(()=>{this.sliderRootElement.classList.remove("js-slider--active")})),e(this,"setSliderImg",(e=>{var t=e.querySelector("img").src;this.getSliderImg().src=t})),e(this,"setSliderThumb",(e=>{this.getThumbImagesByGroupName(e).forEach((e=>{var t=this.createThumbItem();this.setThumbItemImgSrc(t,e),this.toggleCurrentClass(),this.getSliderThumb().appendChild(t)}))})),e(this,"clearSliderThumb",(()=>{var e=this.getSliderThumb();this.getSliderThumbImgList().forEach((t=>e.removeChild(t.parentElement)))})),e(this,"toggleCurrentClass",(()=>{var e=this.getSliderImg().src;this.getSliderThumbImgList().forEach((t=>{t.src===e?t.classList.add("js-slider__thumbs-image--current"):t.classList.remove("js-slider__thumbs-image--current")}))})),e(this,"getSliderThumbImgList",(()=>this.getSliderThumb().querySelectorAll(".js-slider__thumbs-item:not(.js-slider__thumbs-item--prototype) img"))),e(this,"getSliderThumb",(()=>this.sliderRootElement.querySelector(".js-slider__thumbs"))),e(this,"getThumbImagesByGroupName",(e=>{var t=e.currentTarget.dataset.sliderGroupName;return document.querySelectorAll(this.imagesSelector+"[data-slider-group-name="+t+"]")})),e(this,"setThumbItemImgSrc",((e,t)=>{this.getThumbItemImg(e).src=t.querySelector("img").src})),e(this,"getThumbItemImg",(e=>e.querySelector("img"))),e(this,"createThumbItem",(()=>{var e=this.getThumbItemPrototype().cloneNode(!0);return e.classList.remove("js-slider__thumbs-item--prototype"),e})),e(this,"getThumbItemPrototype",(()=>this.sliderRootElement.querySelector(".js-slider__thumbs-item--prototype"))),e(this,"setNextImgSrc",(e=>{var t=e.querySelector("img").src;this.getSliderImg().src=t})),e(this,"setFirstImgSrc",(()=>{var e=this.sliderRootElement.querySelector(".js-slider__thumbs-item:nth-child(2) img").src;this.getSliderImg().src=e})),e(this,"setPrevImgSrc",(e=>{var t=e.querySelector("img").src;this.getSliderImg().src=t})),e(this,"setLastImgSrc",(()=>{var e=this.sliderRootElement.querySelector(".js-slider__thumbs-item:last-child img").src;this.getSliderImg().src=e})),e(this,"getNextElement",(e=>e.parentElement.nextElementSibling)),e(this,"getPrevElement",(e=>e.parentElement.previousElementSibling)),e(this,"getCurrentImg",(()=>this.sliderRootElement.querySelector(".js-slider__thumbs-image--current"))),e(this,"getSliderImg",(()=>this.sliderRootElement.querySelector(".js-slider__image"))),e(this,"startSlideShow",(()=>{this.interval=setInterval((()=>this.onImageNext()),2e3)})),e(this,"stopSlideShow",(()=>{clearInterval(this.interval)})),this.imagesSelector=t,this.sliderRootSelector=s}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".gallery__item").forEach((e=>{e.dataset.sliderGroupName=Math.random()>.5?"nice":"good"})),new t(".gallery__item",".js-slider").run()}))})();